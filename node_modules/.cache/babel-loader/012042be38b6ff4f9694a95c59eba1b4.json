{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport { styled } from '@mui/material/styles';\nimport PropTypes from 'prop-types';\nimport ActionDelete from '@mui/icons-material/Delete';\nimport { alpha } from '@mui/material/styles';\nimport { useDeleteMany, useRefresh, useNotify, useResourceContext, useListContext } from 'ra-core';\nimport { Button } from './Button';\nexport var BulkDeleteWithUndoButton = function (props) {\n  var _a = props.label,\n    label = _a === void 0 ? 'ra.action.delete' : _a,\n    _b = props.icon,\n    icon = _b === void 0 ? defaultIcon : _b,\n    onClick = props.onClick,\n    _c = props.mutationOptions,\n    mutationOptions = _c === void 0 ? {} : _c,\n    rest = __rest(props, [\"label\", \"icon\", \"onClick\", \"mutationOptions\"]);\n  var mutationMeta = mutationOptions.meta,\n    otherMutationOptions = __rest(mutationOptions, [\"meta\"]);\n  var _d = useListContext(props),\n    selectedIds = _d.selectedIds,\n    onUnselectItems = _d.onUnselectItems;\n  var notify = useNotify();\n  var resource = useResourceContext(props);\n  var refresh = useRefresh();\n  var _e = useDeleteMany(),\n    deleteMany = _e[0],\n    isLoading = _e[1].isLoading;\n  var handleClick = function (e) {\n    deleteMany(resource, {\n      ids: selectedIds,\n      meta: mutationMeta\n    }, __assign({\n      onSuccess: function () {\n        notify('ra.notification.deleted', {\n          type: 'info',\n          messageArgs: {\n            smart_count: selectedIds.length\n          },\n          undoable: true\n        });\n        onUnselectItems();\n      },\n      onError: function (error) {\n        notify(typeof error === 'string' ? error : error.message || 'ra.notification.http_error', {\n          type: 'warning',\n          messageArgs: {\n            _: typeof error === 'string' ? error : error && error.message ? error.message : undefined\n          }\n        });\n        refresh();\n      },\n      mutationMode: 'undoable'\n    }, otherMutationOptions));\n    if (typeof onClick === 'function') {\n      onClick(e);\n    }\n  };\n  return React.createElement(StyledButton, __assign({\n    onClick: handleClick,\n    label: label,\n    disabled: isLoading\n  }, sanitizeRestProps(rest)), icon);\n};\nvar defaultIcon = React.createElement(ActionDelete, null);\nvar sanitizeRestProps = function (_a) {\n  var classes = _a.classes,\n    filterValues = _a.filterValues,\n    label = _a.label,\n    selectedIds = _a.selectedIds,\n    rest = __rest(_a, [\"classes\", \"filterValues\", \"label\", \"selectedIds\"]);\n  return rest;\n};\nvar PREFIX = 'RaBulkDeleteWithUndoButton';\nvar StyledButton = styled(Button, {\n  name: PREFIX,\n  overridesResolver: function (props, styles) {\n    return styles.root;\n  }\n})(function (_a) {\n  var theme = _a.theme;\n  return {\n    color: theme.palette.error.main,\n    '&:hover': {\n      backgroundColor: alpha(theme.palette.error.main, 0.12),\n      // Reset on mouse devices\n      '@media (hover: none)': {\n        backgroundColor: 'transparent'\n      }\n    }\n  };\n});\nBulkDeleteWithUndoButton.propTypes = {\n  label: PropTypes.string,\n  resource: PropTypes.string,\n  selectedIds: PropTypes.arrayOf(PropTypes.any),\n  icon: PropTypes.element\n};","map":{"version":3,"sources":["../../../src/button/BulkDeleteWithUndoButton.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { styled } from '@mui/material/styles';\nimport PropTypes from 'prop-types';\nimport ActionDelete from '@mui/icons-material/Delete';\nimport { alpha } from '@mui/material/styles';\nimport { useDeleteMany, useRefresh, useNotify, useResourceContext, useListContext, } from 'ra-core';\nimport { Button } from './Button';\nexport var BulkDeleteWithUndoButton = function (props) {\n    var _a = props.label, label = _a === void 0 ? 'ra.action.delete' : _a, _b = props.icon, icon = _b === void 0 ? defaultIcon : _b, onClick = props.onClick, _c = props.mutationOptions, mutationOptions = _c === void 0 ? {} : _c, rest = __rest(props, [\"label\", \"icon\", \"onClick\", \"mutationOptions\"]);\n    var mutationMeta = mutationOptions.meta, otherMutationOptions = __rest(mutationOptions, [\"meta\"]);\n    var _d = useListContext(props), selectedIds = _d.selectedIds, onUnselectItems = _d.onUnselectItems;\n    var notify = useNotify();\n    var resource = useResourceContext(props);\n    var refresh = useRefresh();\n    var _e = useDeleteMany(), deleteMany = _e[0], isLoading = _e[1].isLoading;\n    var handleClick = function (e) {\n        deleteMany(resource, { ids: selectedIds, meta: mutationMeta }, __assign({ onSuccess: function () {\n                notify('ra.notification.deleted', {\n                    type: 'info',\n                    messageArgs: { smart_count: selectedIds.length },\n                    undoable: true,\n                });\n                onUnselectItems();\n            }, onError: function (error) {\n                notify(typeof error === 'string'\n                    ? error\n                    : error.message || 'ra.notification.http_error', {\n                    type: 'warning',\n                    messageArgs: {\n                        _: typeof error === 'string'\n                            ? error\n                            : error && error.message\n                                ? error.message\n                                : undefined,\n                    },\n                });\n                refresh();\n            }, mutationMode: 'undoable' }, otherMutationOptions));\n        if (typeof onClick === 'function') {\n            onClick(e);\n        }\n    };\n    return (React.createElement(StyledButton, __assign({ onClick: handleClick, label: label, disabled: isLoading }, sanitizeRestProps(rest)), icon));\n};\nvar defaultIcon = React.createElement(ActionDelete, null);\nvar sanitizeRestProps = function (_a) {\n    var classes = _a.classes, filterValues = _a.filterValues, label = _a.label, selectedIds = _a.selectedIds, rest = __rest(_a, [\"classes\", \"filterValues\", \"label\", \"selectedIds\"]);\n    return rest;\n};\nvar PREFIX = 'RaBulkDeleteWithUndoButton';\nvar StyledButton = styled(Button, {\n    name: PREFIX,\n    overridesResolver: function (props, styles) { return styles.root; },\n})(function (_a) {\n    var theme = _a.theme;\n    return ({\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: alpha(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    });\n});\nBulkDeleteWithUndoButton.propTypes = {\n    label: PropTypes.string,\n    resource: PropTypes.string,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    icon: PropTypes.element,\n};\n//# sourceMappingURL=BulkDeleteWithUndoButton.js.map"]},"metadata":{},"sourceType":"module"}