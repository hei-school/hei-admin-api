{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport { throttle } from 'lodash';\nexport var useScrollSpy = function (_a) {\n  var _b = _a.activeSectionDefault,\n    activeSectionDefault = _b === void 0 ? 0 : _b,\n    _c = _a.offsetPx,\n    offsetPx = _c === void 0 ? 50 : _c,\n    _d = _a.sectionElements,\n    sectionElements = _d === void 0 ? [] : _d,\n    _e = _a.throttleMs,\n    throttleMs = _e === void 0 ? 100 : _e;\n  var _f = useState(activeSectionDefault),\n    activeSection = _f[0],\n    setActiveSection = _f[1];\n  var handle = throttle(function () {\n    var currentSectionId = activeSection;\n    for (var i = 0; i < sectionElements.length; i++) {\n      var section = sectionElements[i];\n      // Needs to be a valid DOM Element\n      if (!section || !(section instanceof Element)) continue;\n      // GetBoundingClientRect returns values relative to viewport\n      if (section.getBoundingClientRect().top + offsetPx < 0) {\n        currentSectionId = i;\n        continue;\n      }\n      // No need to continue loop, if last element has been detected\n      break;\n    }\n    setActiveSection(currentSectionId);\n  }, throttleMs, {\n    trailing: false,\n    leading: true\n  });\n  useEffect(function () {\n    window.addEventListener('scroll', handle);\n    // Run initially (but wait for one tick so that the sectionElement refs have registered)\n    setTimeout(handle, 0);\n    return function () {\n      window.removeEventListener('scroll', handle);\n    };\n  }, [sectionElements, offsetPx, handle]);\n  return activeSection;\n};","map":{"version":3,"names":["useState","useEffect","throttle","useScrollSpy","_a","_b","activeSectionDefault","_c","offsetPx","_d","sectionElements","_e","throttleMs","_f","activeSection","setActiveSection","handle","currentSectionId","i","length","section","Element","getBoundingClientRect","top","trailing","leading","window","addEventListener","setTimeout","removeEventListener"],"sources":["F:/project/front-end/hei-admin-ui/node_modules/@react-admin/ra-form-layout/esm/src/forms/long-form/useScrollSpy.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { throttle } from 'lodash';\nexport var useScrollSpy = function (_a) {\n    var _b = _a.activeSectionDefault, activeSectionDefault = _b === void 0 ? 0 : _b, _c = _a.offsetPx, offsetPx = _c === void 0 ? 50 : _c, _d = _a.sectionElements, sectionElements = _d === void 0 ? [] : _d, _e = _a.throttleMs, throttleMs = _e === void 0 ? 100 : _e;\n    var _f = useState(activeSectionDefault), activeSection = _f[0], setActiveSection = _f[1];\n    var handle = throttle(function () {\n        var currentSectionId = activeSection;\n        for (var i = 0; i < sectionElements.length; i++) {\n            var section = sectionElements[i];\n            // Needs to be a valid DOM Element\n            if (!section || !(section instanceof Element))\n                continue;\n            // GetBoundingClientRect returns values relative to viewport\n            if (section.getBoundingClientRect().top + offsetPx < 0) {\n                currentSectionId = i;\n                continue;\n            }\n            // No need to continue loop, if last element has been detected\n            break;\n        }\n        setActiveSection(currentSectionId);\n    }, throttleMs, { trailing: false, leading: true });\n    useEffect(function () {\n        window.addEventListener('scroll', handle);\n        // Run initially (but wait for one tick so that the sectionElement refs have registered)\n        setTimeout(handle, 0);\n        return function () {\n            window.removeEventListener('scroll', handle);\n        };\n    }, [sectionElements, offsetPx, handle]);\n    return activeSection;\n};\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,QAAQ;AACjC,OAAO,IAAIC,YAAY,GAAG,UAAUC,EAAE,EAAE;EACpC,IAAIC,EAAE,GAAGD,EAAE,CAACE,oBAAoB;IAAEA,oBAAoB,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;IAAEE,EAAE,GAAGH,EAAE,CAACI,QAAQ;IAAEA,QAAQ,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;IAAEE,EAAE,GAAGL,EAAE,CAACM,eAAe;IAAEA,eAAe,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;IAAEE,EAAE,GAAGP,EAAE,CAACQ,UAAU;IAAEA,UAAU,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,EAAE;EACpQ,IAAIE,EAAE,GAAGb,QAAQ,CAACM,oBAAoB,CAAC;IAAEQ,aAAa,GAAGD,EAAE,CAAC,CAAC,CAAC;IAAEE,gBAAgB,GAAGF,EAAE,CAAC,CAAC,CAAC;EACxF,IAAIG,MAAM,GAAGd,QAAQ,CAAC,YAAY;IAC9B,IAAIe,gBAAgB,GAAGH,aAAa;IACpC,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,eAAe,CAACS,MAAM,EAAED,CAAC,EAAE,EAAE;MAC7C,IAAIE,OAAO,GAAGV,eAAe,CAACQ,CAAC,CAAC;MAChC;MACA,IAAI,CAACE,OAAO,IAAI,EAAEA,OAAO,YAAYC,OAAO,CAAC,EACzC;MACJ;MACA,IAAID,OAAO,CAACE,qBAAqB,EAAE,CAACC,GAAG,GAAGf,QAAQ,GAAG,CAAC,EAAE;QACpDS,gBAAgB,GAAGC,CAAC;QACpB;MACJ;MACA;MACA;IACJ;IACAH,gBAAgB,CAACE,gBAAgB,CAAC;EACtC,CAAC,EAAEL,UAAU,EAAE;IAAEY,QAAQ,EAAE,KAAK;IAAEC,OAAO,EAAE;EAAK,CAAC,CAAC;EAClDxB,SAAS,CAAC,YAAY;IAClByB,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEX,MAAM,CAAC;IACzC;IACAY,UAAU,CAACZ,MAAM,EAAE,CAAC,CAAC;IACrB,OAAO,YAAY;MACfU,MAAM,CAACG,mBAAmB,CAAC,QAAQ,EAAEb,MAAM,CAAC;IAChD,CAAC;EACL,CAAC,EAAE,CAACN,eAAe,EAAEF,QAAQ,EAAEQ,MAAM,CAAC,CAAC;EACvC,OAAOF,aAAa;AACxB,CAAC"},"metadata":{},"sourceType":"module"}