{"ast":null,"code":"import * as React from 'react';\nimport { memo } from 'react';\nimport { IconButton, ListItem, ListItemButton, ListItemText, ListItemSecondaryAction, styled } from '@mui/material';\nimport CancelIcon from '@mui/icons-material/CancelOutlined';\nimport isEqual from 'lodash/isEqual';\nimport { useNavigate } from 'react-router-dom';\nimport { stringify } from 'query-string';\nimport { useListContext } from 'ra-core';\nvar arePropsEqual = function (prevProps, nextProps) {\n  return prevProps.label === nextProps.label && isEqual(prevProps.value, nextProps.value);\n};\nexport var SavedQueryFilterListItem = memo(function (props) {\n  var className = props.className,\n    label = props.label,\n    sx = props.sx,\n    value = props.value;\n  var _a = useListContext(),\n    filterValues = _a.filterValues,\n    sort = _a.sort,\n    perPage = _a.perPage,\n    displayedFilters = _a.displayedFilters;\n  var navigate = useNavigate();\n  var isSelected = isEqual(value, {\n    filter: filterValues,\n    sort: sort,\n    perPage: perPage,\n    displayedFilters: displayedFilters\n  });\n  var addFilter = function () {\n    navigate({\n      search: stringify({\n        filter: JSON.stringify(value.filter),\n        sort: value.sort.field,\n        order: value.sort.order,\n        page: 1,\n        perPage: value.perPage,\n        displayedFilters: value.displayedFilters\n      })\n    });\n  };\n  var removeFilter = function () {\n    navigate({\n      search: stringify({\n        filter: JSON.stringify({})\n      })\n    });\n  };\n  var toggleFilter = function () {\n    return isSelected ? removeFilter() : addFilter();\n  };\n  return (\n    // @ts-ignore\n    React.createElement(StyledListItem, {\n      onClick: toggleFilter,\n      selected: isSelected,\n      className: className,\n      sx: sx,\n      disablePadding: true\n    }, React.createElement(ListItemButton, {\n      disableGutters: true,\n      className: SavedQueryFilterListItemClasses.listItemButton\n    }, React.createElement(ListItemText, {\n      primary: label,\n      className: SavedQueryFilterListItemClasses.listItemText\n    }), isSelected && React.createElement(ListItemSecondaryAction, null, React.createElement(IconButton, {\n      size: \"small\",\n      onClick: toggleFilter\n    }, React.createElement(CancelIcon, null)))))\n  );\n}, arePropsEqual);\nvar PREFIX = 'RaSavedQueryFilterListItem';\nexport var SavedQueryFilterListItemClasses = {\n  listItemButton: \"\".concat(PREFIX, \"-listItemButton\"),\n  listItemText: \"\".concat(PREFIX, \"-listItemText\")\n};\nvar StyledListItem = styled(ListItem, {\n  name: PREFIX,\n  overridesResolver: function (props, styles) {\n    return styles.root;\n  }\n})(function () {\n  var _a;\n  return _a = {}, _a[\"& .\".concat(SavedQueryFilterListItemClasses.listItemButton)] = {\n    paddingRight: '2em',\n    paddingLeft: '2em'\n  }, _a[\"& .\".concat(SavedQueryFilterListItemClasses.listItemText)] = {\n    margin: 0\n  }, _a;\n});","map":{"version":3,"sources":["../../../../src/list/filter/SavedQueryFilterListItem.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import * as React from 'react';\nimport { memo } from 'react';\nimport { IconButton, ListItem, ListItemButton, ListItemText, ListItemSecondaryAction, styled, } from '@mui/material';\nimport CancelIcon from '@mui/icons-material/CancelOutlined';\nimport isEqual from 'lodash/isEqual';\nimport { useNavigate } from 'react-router-dom';\nimport { stringify } from 'query-string';\nimport { useListContext } from 'ra-core';\nvar arePropsEqual = function (prevProps, nextProps) {\n    return prevProps.label === nextProps.label &&\n        isEqual(prevProps.value, nextProps.value);\n};\nexport var SavedQueryFilterListItem = memo(function (props) {\n    var className = props.className, label = props.label, sx = props.sx, value = props.value;\n    var _a = useListContext(), filterValues = _a.filterValues, sort = _a.sort, perPage = _a.perPage, displayedFilters = _a.displayedFilters;\n    var navigate = useNavigate();\n    var isSelected = isEqual(value, {\n        filter: filterValues,\n        sort: sort,\n        perPage: perPage,\n        displayedFilters: displayedFilters,\n    });\n    var addFilter = function () {\n        navigate({\n            search: stringify({\n                filter: JSON.stringify(value.filter),\n                sort: value.sort.field,\n                order: value.sort.order,\n                page: 1,\n                perPage: value.perPage,\n                displayedFilters: value.displayedFilters,\n            }),\n        });\n    };\n    var removeFilter = function () {\n        navigate({\n            search: stringify({\n                filter: JSON.stringify({}),\n            }),\n        });\n    };\n    var toggleFilter = function () {\n        return isSelected ? removeFilter() : addFilter();\n    };\n    return (\n    // @ts-ignore\n    React.createElement(StyledListItem, { onClick: toggleFilter, selected: isSelected, className: className, sx: sx, disablePadding: true },\n        React.createElement(ListItemButton, { disableGutters: true, className: SavedQueryFilterListItemClasses.listItemButton },\n            React.createElement(ListItemText, { primary: label, className: SavedQueryFilterListItemClasses.listItemText }),\n            isSelected && (React.createElement(ListItemSecondaryAction, null,\n                React.createElement(IconButton, { size: \"small\", onClick: toggleFilter },\n                    React.createElement(CancelIcon, null)))))));\n}, arePropsEqual);\nvar PREFIX = 'RaSavedQueryFilterListItem';\nexport var SavedQueryFilterListItemClasses = {\n    listItemButton: \"\".concat(PREFIX, \"-listItemButton\"),\n    listItemText: \"\".concat(PREFIX, \"-listItemText\"),\n};\nvar StyledListItem = styled(ListItem, {\n    name: PREFIX,\n    overridesResolver: function (props, styles) { return styles.root; },\n})(function () {\n    var _a;\n    return (_a = {},\n        _a[\"& .\".concat(SavedQueryFilterListItemClasses.listItemButton)] = {\n            paddingRight: '2em',\n            paddingLeft: '2em',\n        },\n        _a[\"& .\".concat(SavedQueryFilterListItemClasses.listItemText)] = {\n            margin: 0,\n        },\n        _a);\n});\n//# sourceMappingURL=SavedQueryFilterListItem.js.map"]},"metadata":{},"sourceType":"module"}