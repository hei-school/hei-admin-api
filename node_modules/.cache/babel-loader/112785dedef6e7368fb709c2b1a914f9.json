{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport { useCallback, useMemo, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { TablePagination, Toolbar, useMediaQuery } from '@mui/material';\nimport { useTranslate, useListPaginationContext, sanitizeListRestProps, ComponentPropType } from 'ra-core';\nimport { PaginationActions } from './PaginationActions';\nimport { PaginationLimit } from './PaginationLimit';\nexport var Pagination = memo(function (props) {\n  var _a = props.rowsPerPageOptions,\n    rowsPerPageOptions = _a === void 0 ? DefaultRowsPerPageOptions : _a,\n    actions = props.actions,\n    _b = props.limit,\n    limit = _b === void 0 ? DefaultLimit : _b,\n    rest = __rest(props, [\"rowsPerPageOptions\", \"actions\", \"limit\"]);\n  var _c = useListPaginationContext(props),\n    isLoading = _c.isLoading,\n    hasNextPage = _c.hasNextPage,\n    page = _c.page,\n    perPage = _c.perPage,\n    total = _c.total,\n    setPage = _c.setPage,\n    setPerPage = _c.setPerPage;\n  var translate = useTranslate();\n  var isSmall = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('md');\n  });\n  var totalPages = useMemo(function () {\n    return total != null ? Math.ceil(total / perPage) : undefined;\n  }, [perPage, total]);\n  /**\n   * Warning: MUI's page is 0-based\n   */\n  var handlePageChange = useCallback(function (event, page) {\n    event && event.stopPropagation();\n    if (page < 0 || page > totalPages - 1) {\n      throw new Error(translate('ra.navigation.page_out_of_boundaries', {\n        page: page + 1\n      }));\n    }\n    setPage(page + 1);\n  }, [totalPages, setPage, translate]);\n  var handlePerPageChange = useCallback(function (event) {\n    setPerPage(event.target.value);\n  }, [setPerPage]);\n  var labelDisplayedRows = useCallback(function (_a) {\n    var from = _a.from,\n      to = _a.to,\n      count = _a.count;\n    return count === -1 && hasNextPage ? translate('ra.navigation.partial_page_range_info', {\n      offsetBegin: from,\n      offsetEnd: to,\n      _: \"%{from}-%{to} of more than %{to}\"\n    }) : translate('ra.navigation.page_range_info', {\n      offsetBegin: from,\n      offsetEnd: to,\n      total: count === -1 ? to : count,\n      _: \"%{from}-%{to} of %{count === -1 ? to : count}\"\n    });\n  }, [translate, hasNextPage]);\n  var labelItem = useCallback(function (type) {\n    return translate(\"ra.navigation.\".concat(type), {\n      _: \"Go to \".concat(type, \" page\")\n    });\n  }, [translate]);\n  if (isLoading) {\n    return React.createElement(Toolbar, {\n      variant: \"dense\"\n    });\n  }\n  // Avoid rendering TablePagination if \"page\" value is invalid\n  if (total === 0 || page < 1 || total != null && page > totalPages) {\n    return limit;\n  }\n  if (isSmall) {\n    return React.createElement(TablePagination, __assign({\n      count: total == null ? -1 : total,\n      rowsPerPage: perPage,\n      page: page - 1,\n      onPageChange: handlePageChange,\n      rowsPerPageOptions: emptyArray,\n      component: \"span\",\n      labelDisplayedRows: labelDisplayedRows\n    }, sanitizeListRestProps(rest)));\n  }\n  var ActionsComponent = actions ? actions // overridden by caller\n  : !isLoading && total != null ? PaginationActions // regular navigation\n  : undefined; // partial navigation (uses default TablePaginationActions)\n  return React.createElement(TablePagination, __assign({\n    count: total == null ? -1 : total,\n    rowsPerPage: perPage,\n    page: page - 1,\n    onPageChange: handlePageChange,\n    onRowsPerPageChange: handlePerPageChange,\n    // @ts-ignore\n    ActionsComponent: ActionsComponent,\n    nextIconButtonProps: {\n      disabled: !hasNextPage\n    },\n    component: \"span\",\n    labelRowsPerPage: translate('ra.navigation.page_rows_per_page'),\n    labelDisplayedRows: labelDisplayedRows,\n    getItemAriaLabel: labelItem,\n    rowsPerPageOptions: rowsPerPageOptions\n  }, sanitizeListRestProps(rest)));\n});\nPagination.propTypes = {\n  actions: ComponentPropType,\n  limit: PropTypes.element,\n  rowsPerPageOptions: PropTypes.arrayOf(PropTypes.number)\n};\nvar DefaultLimit = React.createElement(PaginationLimit, null);\nvar DefaultRowsPerPageOptions = [5, 10, 25, 50];\nvar emptyArray = [];","map":{"version":3,"sources":["../../../../src/list/pagination/Pagination.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback, useMemo, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { TablePagination, Toolbar, useMediaQuery, } from '@mui/material';\nimport { useTranslate, useListPaginationContext, sanitizeListRestProps, ComponentPropType, } from 'ra-core';\nimport { PaginationActions } from './PaginationActions';\nimport { PaginationLimit } from './PaginationLimit';\nexport var Pagination = memo(function (props) {\n    var _a = props.rowsPerPageOptions, rowsPerPageOptions = _a === void 0 ? DefaultRowsPerPageOptions : _a, actions = props.actions, _b = props.limit, limit = _b === void 0 ? DefaultLimit : _b, rest = __rest(props, [\"rowsPerPageOptions\", \"actions\", \"limit\"]);\n    var _c = useListPaginationContext(props), isLoading = _c.isLoading, hasNextPage = _c.hasNextPage, page = _c.page, perPage = _c.perPage, total = _c.total, setPage = _c.setPage, setPerPage = _c.setPerPage;\n    var translate = useTranslate();\n    var isSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('md');\n    });\n    var totalPages = useMemo(function () {\n        return total != null ? Math.ceil(total / perPage) : undefined;\n    }, [perPage, total]);\n    /**\n     * Warning: MUI's page is 0-based\n     */\n    var handlePageChange = useCallback(function (event, page) {\n        event && event.stopPropagation();\n        if (page < 0 || page > totalPages - 1) {\n            throw new Error(translate('ra.navigation.page_out_of_boundaries', {\n                page: page + 1,\n            }));\n        }\n        setPage(page + 1);\n    }, [totalPages, setPage, translate]);\n    var handlePerPageChange = useCallback(function (event) {\n        setPerPage(event.target.value);\n    }, [setPerPage]);\n    var labelDisplayedRows = useCallback(function (_a) {\n        var from = _a.from, to = _a.to, count = _a.count;\n        return count === -1 && hasNextPage\n            ? translate('ra.navigation.partial_page_range_info', {\n                offsetBegin: from,\n                offsetEnd: to,\n                _: \"%{from}-%{to} of more than %{to}\",\n            })\n            : translate('ra.navigation.page_range_info', {\n                offsetBegin: from,\n                offsetEnd: to,\n                total: count === -1 ? to : count,\n                _: \"%{from}-%{to} of %{count === -1 ? to : count}\",\n            });\n    }, [translate, hasNextPage]);\n    var labelItem = useCallback(function (type) { return translate(\"ra.navigation.\".concat(type), { _: \"Go to \".concat(type, \" page\") }); }, [translate]);\n    if (isLoading) {\n        return React.createElement(Toolbar, { variant: \"dense\" });\n    }\n    // Avoid rendering TablePagination if \"page\" value is invalid\n    if (total === 0 || page < 1 || (total != null && page > totalPages)) {\n        return limit;\n    }\n    if (isSmall) {\n        return (React.createElement(TablePagination, __assign({ count: total == null ? -1 : total, rowsPerPage: perPage, page: page - 1, onPageChange: handlePageChange, rowsPerPageOptions: emptyArray, component: \"span\", labelDisplayedRows: labelDisplayedRows }, sanitizeListRestProps(rest))));\n    }\n    var ActionsComponent = actions\n        ? actions // overridden by caller\n        : !isLoading && total != null\n            ? PaginationActions // regular navigation\n            : undefined; // partial navigation (uses default TablePaginationActions)\n    return (React.createElement(TablePagination, __assign({ count: total == null ? -1 : total, rowsPerPage: perPage, page: page - 1, onPageChange: handlePageChange, onRowsPerPageChange: handlePerPageChange, \n        // @ts-ignore\n        ActionsComponent: ActionsComponent, nextIconButtonProps: {\n            disabled: !hasNextPage,\n        }, component: \"span\", labelRowsPerPage: translate('ra.navigation.page_rows_per_page'), labelDisplayedRows: labelDisplayedRows, getItemAriaLabel: labelItem, rowsPerPageOptions: rowsPerPageOptions }, sanitizeListRestProps(rest))));\n});\nPagination.propTypes = {\n    actions: ComponentPropType,\n    limit: PropTypes.element,\n    rowsPerPageOptions: PropTypes.arrayOf(PropTypes.number),\n};\nvar DefaultLimit = React.createElement(PaginationLimit, null);\nvar DefaultRowsPerPageOptions = [5, 10, 25, 50];\nvar emptyArray = [];\n//# sourceMappingURL=Pagination.js.map"]},"metadata":{},"sourceType":"module"}