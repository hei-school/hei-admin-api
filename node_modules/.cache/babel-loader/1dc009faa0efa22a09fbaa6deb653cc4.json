{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport Queue from '@mui/icons-material/Queue';\nimport { Link } from 'react-router-dom';\nimport { stringify } from 'query-string';\nimport { useResourceContext, useRecordContext, useCreatePath } from 'ra-core';\nimport { Button } from './Button';\nexport var CloneButton = function (props) {\n  var _a = props.label,\n    label = _a === void 0 ? 'ra.action.clone' : _a,\n    _b = props.scrollToTop,\n    scrollToTop = _b === void 0 ? true : _b,\n    _c = props.icon,\n    icon = _c === void 0 ? defaultIcon : _c,\n    rest = __rest(props, [\"label\", \"scrollToTop\", \"icon\"]);\n  var resource = useResourceContext(props);\n  var record = useRecordContext(props);\n  var createPath = useCreatePath();\n  var pathname = createPath({\n    resource: resource,\n    type: 'create'\n  });\n  return React.createElement(Button, __assign({\n    component: Link,\n    to: record ? {\n      pathname: pathname,\n      search: stringify({\n        source: JSON.stringify(omitId(record))\n      }),\n      state: {\n        _scrollToTop: scrollToTop\n      }\n    } : pathname,\n    label: label,\n    onClick: stopPropagation\n  }, sanitizeRestProps(rest)), icon);\n};\nvar defaultIcon = React.createElement(Queue, null);\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) {\n  return e.stopPropagation();\n};\nvar omitId = function (_a) {\n  var id = _a.id,\n    rest = __rest(_a, [\"id\"]);\n  return rest;\n};\nvar sanitizeRestProps = function (_a) {\n  var resource = _a.resource,\n    record = _a.record,\n    rest = __rest(_a, [\"resource\", \"record\"]);\n  return rest;\n};\nCloneButton.propTypes = {\n  icon: PropTypes.element,\n  label: PropTypes.string,\n  record: PropTypes.any\n};\nexport default memo(CloneButton);","map":{"version":3,"sources":["../../../src/button/CloneButton.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,KAAK,MAAM,OAAO;AAC9B,SAAS,IAAI,QAAsB,OAAO;AAC1C,OAAO,SAAS,MAAM,YAAY;AAClC,OAAO,KAAK,MAAM,2BAA2B;AAC7C,SAAS,IAAI,QAAQ,kBAAkB;AACvC,SAAS,SAAS,QAAQ,cAAc;AACxC,SAAS,kBAAkB,EAAE,gBAAgB,EAAE,aAAa,QAAQ,SAAS;AAE7E,SAAS,MAAM,QAAqB,UAAU;AAE9C,OAAO,IAAM,WAAW,GAAG,UAAC,KAAuB,EAAA;EAE3C,IAAA,EAAA,GAIA,KAAK,CAAA,KAJoB;IAAzB,KAAK,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,iBAAiB,GAAA,EAAA;IACzB,EAAA,GAGA,KAAK,CAAA,WAHa;IAAlB,WAAW,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAI,GAAA,EAAA;IAClB,EAAA,GAEA,KAAK,CAAA,IAFa;IAAlB,IAAI,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,WAAW,GAAA,EAAA;IACf,IAAI,GAAA,MAAA,CACP,KAAK,EALH,CAAA,OAAA,EAAA,aAAA,EAAA,MAAA,CAKL,CADU;EAEX,IAAM,QAAQ,GAAG,kBAAkB,CAAC,KAAK,CAAC;EAC1C,IAAM,MAAM,GAAG,gBAAgB,CAAC,KAAK,CAAC;EACtC,IAAM,UAAU,GAAG,aAAa,EAAE;EAClC,IAAM,QAAQ,GAAG,UAAU,CAAC;IAAE,QAAQ,EAAA,QAAA;IAAE,IAAI,EAAE;EAAQ,CAAE,CAAC;EACzD,OACI,KAAA,CAAA,aAAA,CAAC,MAAM,EAAA,QAAA,CAAA;IACH,SAAS,EAAE,IAAI;IACf,EAAE,EACE,MAAM,GACA;MACI,QAAQ,EAAA,QAAA;MACR,MAAM,EAAE,SAAS,CAAC;QACd,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC;OACxC,CAAC;MACF,KAAK,EAAE;QAAE,YAAY,EAAE;MAAW;KACrC,GACD,QAAQ;IAElB,KAAK,EAAE,KAAK;IACZ,OAAO,EAAE;EAAe,CAAA,EACpB,iBAAiB,CAAC,IAAI,CAAC,CAAA,EAE1B,IAAI,CACA;AAEjB,CAAC;AAED,IAAM,WAAW,GAAG,KAAA,CAAA,aAAA,CAAC,KAAK,EAAA,IAAA,CAAG;AAE7B;AACA,IAAM,eAAe,GAAG,UAAA,CAAC,EAAA;EAAI,OAAA,CAAC,CAAC,eAAe,EAAE;AAAnB,CAAmB;AAEhD,IAAM,MAAM,GAAG,UAAC,EAAoB,EAAA;EAAlB,IAAA,EAAE,GAAA,EAAA,CAAA,EAAA;IAAK,IAAI,GAAA,MAAA,CAAA,EAAA,EAAb,CAAA,IAAA,CAAe,CAAF;EAAY,OAAA,IAAI;CAAA;AAE7C,IAAM,iBAAiB,GAAG,UAAC,EAIgC,EAAA;EAHvD,IAAA,QAAQ,GAAA,EAAA,CAAA,QAAA;IACR,MAAM,GAAA,EAAA,CAAA,MAAA;IACH,IAAI,GAAA,MAAA,CAAA,EAAA,EAHgB,CAAA,UAAA,EAAA,QAAA,CAI1B,CADU;EACqD,OAAA,IAAI;CAAA;AAUpE,WAAW,CAAC,SAAS,GAAG;EACpB,IAAI,EAAE,SAAS,CAAC,OAAO;EACvB,KAAK,EAAE,SAAS,CAAC,MAAM;EACvB,MAAM,EAAE,SAAS,CAAC;CACrB;AAED,eAAe,IAAI,CAAC,WAAW,CAAC","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport Queue from '@mui/icons-material/Queue';\nimport { Link } from 'react-router-dom';\nimport { stringify } from 'query-string';\nimport { useResourceContext, useRecordContext, useCreatePath } from 'ra-core';\nimport { Button } from './Button';\nexport var CloneButton = function (props) {\n    var _a = props.label, label = _a === void 0 ? 'ra.action.clone' : _a, _b = props.scrollToTop, scrollToTop = _b === void 0 ? true : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, rest = __rest(props, [\"label\", \"scrollToTop\", \"icon\"]);\n    var resource = useResourceContext(props);\n    var record = useRecordContext(props);\n    var createPath = useCreatePath();\n    var pathname = createPath({ resource: resource, type: 'create' });\n    return (React.createElement(Button, __assign({ component: Link, to: record\n            ? {\n                pathname: pathname,\n                search: stringify({\n                    source: JSON.stringify(omitId(record)),\n                }),\n                state: { _scrollToTop: scrollToTop },\n            }\n            : pathname, label: label, onClick: stopPropagation }, sanitizeRestProps(rest)), icon));\n};\nvar defaultIcon = React.createElement(Queue, null);\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\nvar omitId = function (_a) {\n    var id = _a.id, rest = __rest(_a, [\"id\"]);\n    return rest;\n};\nvar sanitizeRestProps = function (_a) {\n    var resource = _a.resource, record = _a.record, rest = __rest(_a, [\"resource\", \"record\"]);\n    return rest;\n};\nCloneButton.propTypes = {\n    icon: PropTypes.element,\n    label: PropTypes.string,\n    record: PropTypes.any,\n};\nexport default memo(CloneButton);\n//# sourceMappingURL=CloneButton.js.map"]},"metadata":{},"sourceType":"module"}